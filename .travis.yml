language: java
jdk: openjdk7
install: mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test jacoco:report coveralls:report -P coverage -Dmaven.javadoc.skip=true -B -V
cache:
  directories:
    - "$HOME/.m2"
after_success:
  - rm ~/.mavenrc
  - mvn clean test -Dmaven.javadoc.skip=true -B -V
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/pubring.gpg.enc -out $DEPLOY_DIR/pubring.gpg -d
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/secring.gpg.enc -out $DEPLOY_DIR/secring.gpg -d
  - "$DEPLOY_DIR/scripts/publish.sh"
env:
  global:
    - DEPLOY_DIR="`pwd`/deploy"
    - secure: IPjXMMn+TTEogBqJnL0MdD4b4/iczrdeV+F6gzXZEllZqmYO274HEs7IxAr1uTgNnveZr1kqJCu1A9iRxM8A6IoEJTuf/2NPJIA4uabGwHs2lB4UBSZZbWlH7VeGECbKYS27qdGS+guLHZmVAO7RPZuujoUlr+0Vbv3gFkcFPgK1eDr2ilAq3/KNGbFns6coN6kjjU+GX+hiGdd5Ibc39ESswH/Kcvi4kY42gX6ia+GwaOohhFHB9lfTmIo367bxyeDmY7bbrEDRgbOKUuVsrUnVxX+6BQSOsOQs5SqM1l+S4KdjcdUdkEik5yj/ovav32E2X7NSCOmo3pPM7Ltxos/s7vlTJWP8K6vlHNi0w4EsJpt+Gg193FzytaYxfv8gUZUyW/sqjGzoLp1GHXBktVND8YqCIXRC26aomRHT2x2giV6WcCwaqsCohq8tzqRxACuKSC7Mc7f9oAbaCheNdE2frFO0gIe+66v5VNIEqg58NeFrkZ/X5/xsmri1FD/uGxU92a5Ew8bOf3svpuYFxa4uyCXipBIZnCyMRkpKbIS+OkewTuaO5fr2juahFlbVckfvSwdARI9SHHMxreMC6Rs7JKvvYqiN2q7xR7LNny5FRP2IEFq0vakcFCcKhThej2q0NbIKRaTLKgZlJn1WENKMfcYyVGTaCtB+EuTOayM=
    - secure: AgOQRp7txGq2S8x8bQVZo8/KhZRtibPbj8cijB9V2JLHq4CapRmKiZ8QDZW3x6uO1L4xHpthY4OkOQnFy/1cixKuZo1QSCYx0e1M0WBKENsk9rTUKR2reaWA5REraDXShU3drqYz9aNItLx4B1Z7tulZBNGv/rtiKAyZxuXzUP6WalceRxU+yeH8bdLEAViypY1o1R1oSFPv5KTEnSW9pU4VApB/n/ihHaeSsFsypDLhvK3Grps1FsXStkfj79qCKVWwr4G7Vd6bt/kks5o0bkQRtHf7nKRE4fyEWTATDs8X1ysc7LCT2/845kBA6gAZlceCB+EDK26nZXJMM/446sEB39udQORu6pwkl+tz0igVKHR9+I0YQrYhSGM00AJ3hMs1ZmzYBPyLIAv63hOmq8PpGuvuAIblMICB/daBvuaFsQ64tf3x8z1oNb4W6ebcgfyIFR3kizymWttWwsTeqtzG/2i49T4kmwrAo4khFG9BmPo/vm3xuyx9gRz1Zlerhi6sNVQHAwGqBXcVu8qplqXgZz2gYDoH7QDxXq2UWh1g9KsBCe6LeIIan2O3MVDsDiBheWcobYeQGWvDYvFiQ5pHLVFNenerOa6Kp7D+G0B89dGhvPx35DRh6ZrKXNFe/Tg+Z1jH6zcprOqVy/52F7vUFy+I9GgiLYYgGqd1yys=
    - secure: ksyE0FesF9/TjFFOvbG5LD+3lDDoUajp/fmXX8gkUmy+tU5hctQ5QcReILvywhw9w/WvSH+1I/0BWNvjzlEt84UH5xtANYo6ashOrfvKRrPcEGKIsNyGmF4TBqZEbYrqf0uY32ZBemvrZjANzN2/P/f/HaEIe0tNsL4SxwvEnHomh2pQQWEBkRK2pBZT3Xq9tEng9thBC6CCfiYT9KsDNtD9SHr2WD5moSwXQWZzf2c59w3+9XaJTEJz5ftRJi2DDJnOdbXsk7Ya5e0O5iRxe/DBQpBc/apkMZ3hTHRupXRyysh+J7LpHxFFSsryvDLMMHRNxZoH96ytDJmYYzm2/PcthOwzRQJIs+j7R7nNypEJR1HG3pr+2r8YxeNF/ifv9wMRB8uCmUOq4D4WLKol5eWs+s4UvsJWaZOZ6s7Coc5ofGKmQIHsKRy3HxIpVgc3utdysAGiXR8yoGKXjrxRw/OqNxvaYNFMB6hMKLVREL8XOn68eJ8kJullGJzBtMiZ7fG+TfmQlc7TmC5Do/v3bZsZsn+4+p2arEE6ErBrpXhmXNu/CZdFMHCtGx0f/8OKXS8sjGo/bIePSV5zzdSMjxXyW91qg8uaKay3nlI50rG47Cazdc6s6Rbmm/BYPV7+XMEVGUs8Wck2JDiaKR1xXle1SAMvtXb6P3UxW1NegSw=
    - secure: RrgF3lE5Tg4xM+p28Z1TqFyamHUunAZUIkflAi78pM6zKi7m1lms6y1PGScqaUhFQ8ZqeqXOg3UIHQ8sLQD0LscZZa7FQ+Zr9qTGw5P23To6j/K3bXSlxRtqHFY3S8Dq2UU8tHYfRQc/K1bOWQOGFXJ1d2KqxLrQMj2K5tCm12p9Xk0bMpWAvZuP2Sn1yco/c4tXS7DY7abDo53sxaKFRPutXs+dr/i+npmt/bx1bWqewTgM2dY1IcJq6NUYN+SFZfDdhrASUmXGD4y6zhoYaxSd3YOOLqLZ4tYEF0RUQlWSTUD8dm/gAyUj/Fpir7NZZm0gUQXYmIr581uhWOoVmfuoNLjXCr1Jur0ambdSibBZ3PcGlyYICCUB4QC2qsxLVIEg9eazoxZwD4CgufQGZ3eYgWqh1LSe83Ep6xA+zaMGhZEX87tNHKoO+6dPtW721lbOLCG4dOr7zrQnGtsIEsI2pGgc/fJcZDk4w8ErA7Oml8Oh/8wNt07MWpNFWWvyrnXo9MHhk6Xq55u4uCwxip3owaLJ3iOyhApnuuJLqg9RPS2OSVoZCvS9+NwT/cOEZ4cnMUt8962iS2/Aq0kH4PB1MEtyOGTDJIsHkx2v6YGzD714EiKYJW5H+OF2t2DHFWQmAG/fE1YM1Z6rGb7DzJufLaj6HSEVWmpPa2bWRwA=
    - secure: lJ6zL2iSsnDOC48abDVCP3RFjMVx2niMAlpC7U5DRTZPR+7xiN2B5VrjJz9xYPkwsEEcPsy6cD0MxrVVhpOZQNEkdoty59iIxXlItDDj0m0dKmsV1eR81xMjXAIVIj2R8b+cgpTQyLGNYnznleg76P+w1DGfru4YUgQjd5jeAQ/mygKIg1zDDsPWtc2tMBmAyfutgTgxyfIWtSZ5THw/6LL4EzoJIu8J5pUslZMMhAjaNmd3PBFkv0o0CLG9qWW+FdcsdSGWXB6mb8ejoVZn0oyy1KO8j2NFC/GWOOhUrW/R7OwkddDNMEXt6TDgDepGP7zjuy7r2hfDWDe9DcDCTt0WO1sqFBowv01Tirphv6F+Fb9+F1ANYPR/ABjlBoQTG50C9JB7Gu7ZX5TA+7JYVeJDsT9M5fZnz16p4P2Fowt4m1jAlsYMMgQuOHsDfHZdH/Da74XLSCAK+eoqW1e99B7Ir9S6yBlVTKeTu+Zg6qGzi5dfWlgOaSGzr+DTWonc9QtaOjXyiPTr6SSyOFgG0V4Eq1uAdXP8BIn/beRQZki3xjeL1hzNJq5bCL8AvTnWKWB+doUflwyEAY+42CTlFQ4WTD6pnpQxcLaY2ILTGN0u5MoM+vUYSqz5NDRJGelWNHJZNv303liQyoEcY3pBpO1TTEL5rVIHc5GjxWBfg4k=
